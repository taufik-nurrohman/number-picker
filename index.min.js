/*!
 *
 * The MIT License (MIT)
 *
 * Copyright © 2025 Taufik Nurrohman <https://github.com/taufik-nurrohman>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).NumberPicker=t()}(this,(function(){"use strict";function n(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}var t=function(n){return Array.isArray(n)},e=function(n){return"function"==typeof n},r=function(n,t,e){return!(!n||"object"!=typeof n)&&(e?o(t)&&o(n.constructor)&&t===n.constructor:o(t)&&n instanceof t)},u=function(n){return i(n)&&0==n%1},i=function(n){return"number"==typeof n},a=function(n,t){return void 0===t&&(t=!0),!(!n||"object"!=typeof n)&&(!t||r(n,Object,1))},o=function(n){return function(n){return void 0!==n}(n)&&!function(n){return null===n}(n)},f=function(n){return"string"==typeof n},l=function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];for(var u,i=e.shift(),f=0,c=d(e);f<c;++f)for(var s in e[f])if(o(i[s]))if(t(i[s])&&t(e[f][s])){i[s]=[].concat(i[s]);for(var v=0,p=d(e[f][s]);v<p;++v)u=e[f][s][v],-1===i[s].indexOf(u)&&i[s].push(e[f][s][v])}else a(i[s])&&a(e[f][s])?i[s]=l({},i[s],e[f][s]):i[s]=e[f][s];else i[s]=e[f][s];return i},c=function(n){if(t(n))return n.map((function(t){return c(n)}));if(a(n)){for(var e in n)n[e]=c(n[e]);return n}return!1===n?"false":null===n?"null":!0===n?"true":""+n},s=function(n){return n.replace(/[-_.](\w)/g,(function(n,t){return v(t)}))},v=function(n){return n.toUpperCase()},d=function(n){return n.length},p=function(n){if(t(n))return n.map((function(n){return p(n)}));if(a(n)){for(var e in n)n[e]=p(n[e]);return n}return f(n)&&function(n){return/^[+-]?(?:\d*\.)?\d+$/.test(n+"")}(n)?"0"===n[0]&&-1===n.indexOf(".")?n:function(n,t){return void 0===t&&(t=10),t?parseInt(n,t):parseFloat(n)}(n):"false"!==n&&("null"===n?null:"true"===n||n)},m=function(n,t){for(var e,r=0,u=d(n);r<u;++r)if(-1!==(e=t(n[r],r))){if(0===e)break}else n.splice(r,1);return n},h=function(n,t){var e;for(var r in n)if(-1!==(e=t(n[r],r))){if(0===e)break}else delete n[r];return n},y=function(n){return n.prototype},_=function(n){return b(n,w)||null},b=function(n,t){return t.get(n)},g=function(n,t,e){return e||(n=y(n)),h(t,(function(t,e){Object.defineProperty(n,e,t)})),n},x=function(n,t){return k(n,t,w)},k=function(n,t,e){return e.set(n,t)},w=new WeakMap;var A=document,S=window,T=A.documentElement,C=function(n,t){return n["first"+(t?"":"Element")+"Child"]||null},O=function(n,t,e){var r,u=(r=n.childNodes,Array.from(r));return i(t)?u[t]||null:u},N=function(n,t){return void 0===t&&(t="e:"),P(n)?function(n,t,e){if(void 0===e&&(e=!0),!I(n,t))return null;var r=n.getAttribute(t);return e?p(r):r}(n,"id"):(o(an[t])||(an[t]=0),t+(e=Date.now()+(an[t]+=1),r=16,i(e)?e.toString(r):""+e));var e,r},j=function(n,t){return t?n.closest(t)||null:n.parentNode||null},E=function(n){var t="form";return M(n,t)&&t===function(n){return(n&&n.nodeName||"").toLowerCase()||null}(n[t])?n[t]:j(n,t)},L=function(n,t){void 0===t&&(t=!0);var e="textContent";if(!M(n,e))return!1;var r=n[e];return""!==(r=t?r.trim():r)?r:null},R=function(n){return n&&n.nodeType||null},D=function(n,t){var e=(n.value||"").replace(/\r?\n|\r/g,"\n");return""!==e?e:null},I=function(n,t){return n.hasAttribute(t)},P=function(n){return I(n,"id")},M=function(n,t){return t in n},q=function(n,t){return F(n,"aria-"+t)},F=function(n,t){return n.removeAttribute(t),n},H=function(n,t){return n.classList.remove(t),n},U=function(n,t){return n.style[s(t)]=null,n},z=function(n,t,e){return B(n,"aria-"+t,!0===e?"true":e)},B=function(n,t,e){return!0===e&&(e=t),n.setAttribute(t,c(e)),n},J=function(n,t){return h(t,(function(t,e){return"aria"===e&&a(t)?(function(n,t){h(t,(function(t,e){t||""===t||0===t?z(n,e,t):q(n,e)}))}(n,t),1):"class"===e?(G(n,t),1):"data"===e&&a(t)?(K(n,t),1):"style"===e&&a(t)?(rn(n,t),1):void(t||""===t||0===t?B(n,e,t):F(n,e))})),n},W=function(n,t){return n.append(t),t},Y=function(n,t){return n.classList.add(t),n},G=function(n,e){return t(e)?(m(e,(function(t){return Y(n,t)})),n):a(e)?(h(e,(function(t,e){return t?Y(n,e):H(n,e)})),n):(n.className=e,n)},K=function(n,t){return h(t,(function(t,e){t||""===t||0===t?Q(n,e,t):function(n,t){F(n,"data-"+t)}(n,e)})),n},Q=function(n,e,r){return(t(r)||a(r))&&(r=JSON.stringify(r)),B(n,"data-"+e,!0===r?"true":r)},V=function(n,e,r,u){return n=f(n)?A.createElement(n,f(u)?{is:u}:u):n,t(e)&&d(e)?(!function(n){var t="innerHTML";M(n,t)&&(n[t]="")}(n),m(e,(function(n){return W(f(n)?X(n):n)}))):a(e)&&(r=e,e=!1),f(e)&&Z(n,e),a(r)?(J(n,r),n):n},X=function(n){return f(n)&&(n=A.createTextNode(n)),n},Z=function(n,t,e){if(void 0===e&&(e=!0),null===t)return n;var r="innerHTML";return M(n,r)&&(n[r]=e?t.trim():t),n},nn=function(n,t,e){return void 0===e&&(e="e:"),B(n,"id",o(t)?t:N(n,e))},tn=function(n,t){return n.after(t),t},en=function(n,t,e){return i(e)&&(e+="px"),n.style[s(t)]=c(e),n},rn=function(n,t){return h(t,(function(t,e){t||""===t||0===t?en(n,e,t):U(n,e)})),n},un=function(n,t){return null===t?F(n,"value"):(n.value=c(t),n)},an={},on=function(){return A.getSelection()},fn=function(){return A.createRange()},ln=function(n,t){return(t=t||on()).empty(),t},cn=function(n,t,e){var r=0,u=fn();u.setStart(n,0),u.collapse(!0);for(var i,a,o,f=[n];!i&&(o=f.pop());)if(3===R(o)){var l=r+d(o);!a&&t[0]>=r&&t[0]<=l&&(u.setStart(o,t[0]-r),a=!0),a&&t[1]>=r&&t[1]<=l&&(i=!0,u.setEnd(o,t[1]-r)),r=l}else m(O(o,null),(function(n){return f.push(n)}));return dn(n,u,ln(0,e))},sn=function(n,t,e){e=e||on(),ln(0,e);var r=fn();r.selectNodeContents(n),e=dn(n,r,e),1===t?e.collapseToEnd():-1===t&&e.collapseToStart()},vn=function(n){return(n=n||on()).rangeCount&&n.removeRange(n.getRangeAt(0)),n},dn=function(n,e,r){return r=r||on(),t(e)?cn(n,e,r):(r.addRange(e),r)};function pn(n){return Array.from(n)}var mn=S.clearTimeout,hn=S.setTimeout,yn=function(n,t){var e,r=u(t)&&t>=0;return[function(){var u=this,i=pn(arguments);r||(t=i.shift()),e=hn((function(){return n.apply(u,i)}),t)},function(){e&&mn(e)}]};var _n,bn,gn,xn,kn,wn,An,Sn,Tn,Cn=function(n,t,e){t.removeEventListener(n,e)},On=function(n){return n&&n.preventDefault()},Nn=function(n,t,e,r){void 0===r&&(r=!1),t.addEventListener(n,e,r)},jn="down",En="blur",Ln="focus",Rn="key"+jn,Dn="mouse",In=Dn+jn,Pn=Dn+"up",Mn="paste",qn="touch",$n=qn+"end",Fn=qn+"start",Hn="wheel",Un="false",zn="invalid",Bn="tabIndex",Jn="true",Wn="visibility",Yn=(_n=function(n,t){var e=n.max,r=n.min,u=n.value;if((u=+(null!=u?u:0)+t)>e||u<r)return Qn(),Vn(this);n.value=u,Vn(this)},wn=u(bn)&&bn>=0,An=u(gn)&&gn>=0,[function(){var n=this,t=pn(arguments);wn||(bn=t.shift()),An||(gn=t.shift());var e=function(){_n.apply(n,t),xn=hn(e,gn)};bn>0?kn=hn(e,bn):e()},function(){xn&&mn(xn),kn&&mn(kn)}]),Gn=function(t,e,r){if(e&&!Array.isArray(e)&&"number"==typeof e.length){var u=e.length;return n(e,r<u?r:u)}return t(e,r)}((function(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,u,i,a,o=[],f=!0,l=!1;try{if(i=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;f=!1}else for(;!(f=(r=i.call(e)).done)&&(o.push(r.value),o.length!==t);f=!0);}catch(n){l=!0,u=n}finally{try{if(!f&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw u}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}),Yn,2),Kn=Gn[0],Qn=Gn[1];function Vn(n){return n.focus(),n}function Xn(){var n=_(this),t=n.mask,e=n.state.error;i(e)&&e>0?yn((function(){return q(t,zn)}))(e):q(t,zn)}function Zn(n){var t=this,e=_(t);yn((function(){return e.value=L(t)}))[0](1)}function nt(){sn(this)}function tt(n){var t,e=n.inputType,r=_(this),u=r._active,a=r.self,o=+(t=L(this));if(!u)return On(n);var f=r._mask,l=r.mask,c=r.max,s=r.min,v=r.step,d=f.hint;return"deleteContent"===e.slice(0,13)&&0===o?U(d,Wn):"insertText"===e&&en(d,Wn,"hidden"),i(o)?0!==o%v?(r.fire("not.value",[t]),z(l,zn,!0),On(n)):o>c?(r.fire("max.number",[o,c]),z(l,zn,!0),On(n)):o<s?(r.fire("min.number",[o,s]),z(l,zn,!0),On(n)):(q(l,zn),r.fire("is.number",[o]),un(a,o+=""),void r.fire("change",[""!==o?o:null])):(r.fire("not.number",[t]),z(l,zn,!0),On(n))}function et(n){n.key;var t=_(this),e=t._mask;t.self,t.state,e.hint}function rt(n){On(n);var e=this,r=_(e);!function(n,e,r,u){var i,a,o;if((u=u||on()).rangeCount){var l,c,s;if((a=u.getRangeAt(0)).deleteContents(),o=A.createDocumentFragment(),f(e))for(i=V("div"),Z(i,e);l=C(i,1);)s=W(o,l);else t(e)?m(e,(function(n){return s=W(o,n)})):s=W(o,e);c=C(o,1),a.insertNode(o),s&&((a=a.cloneRange()).setStartAfter(s),a.setStartBefore(c),dn(n,a,vn(u)))}}(e,n.clipboardData.getData("text/plain")),yn((function(){return r.value=L(e),sn(e)}))[0](1)}function ut(n){On(n);var t=_(this);if(t._active){var e=t._mask,r=t.mask,u=t.state,i=e._step,a=i.down,o=i.up;u.n;var f=n.target,l=f,c=f;if(a!==l){for(;r!==l;)if(a===(l=j(l)))return;if(o!==c){for(;r!==c;)if(o===(c=j(c)))return;Vn(t)}}}}function it(n){On(n);var t=this,e=_(t),r=e._active,u=e._fix;if(r){if(u)return Vn(e);e._mask,e.max;var i=e.min,a=e.step,o=e.value;if((o=+(null!=o?o:0)-a)<i)return e.value=i,Vn(t);e.value=o,Vn(t),Hn!==n.type&&Kn.call(t,500,100,e,-a)}}function at(n){On(n);var t=this,e=_(t),r=e._active,u=e._fix;if(r){if(u)return Vn(e);e._mask;var i=e.max;e.min;var a=e.step,o=e.value;if((o=+(null!=o?o:0)+a)>i)return e.value=i,Vn(t);e.value=o,Vn(t),Hn!==n.type&&Kn.call(t,500,100,e,a)}}function ot(){Qn()}function ft(n){On(n);var t=_(this)._mask._step,e=t.down,r=t.up;n.deltaY<0?at.call(r,n):it.call(e,n)}function lt(n,t){var e=this;return n?r(e,lt)?(x(n,function(n,t){return(t=t||n).fire=function(n,t,e){var r=this,u=r.hooks;return o(u[n])?(m(u[n],(function(n){n.apply(e||r,t)})),r):r},t.off=function(n,t){var e=this,r=e.hooks;if(!o(n))return r={},e;if(o(r[n]))if(o(t)){var u=d(r[n]);if(0===u)delete r[n];else for(var i=0;i<u;++i)if(t===r[n][i]){r[n].splice(i,1);break}}else delete r[n];return e},t.on=function(n,t){var e=this.hooks;return o(e[n])||(e[n]=[]),o(t)&&e[n].push(t),this},n.hooks={},n}(e,lt._)),e.attach(n,l({},lt.state,t||{}))):new lt(n,t):e}return lt.from=function(n,t){return new lt(n,t)},lt.of=_,lt.state={max:null,min:null,n:"number-picker",step:null,time:{error:1e3},with:[]},lt.version="1.0.0",g(lt,{name:{value:"NumberPicker"}},1),g(lt,{active:{get:function(){return this._active},set:function(n){return $}},fix:{get:function(){return this._fix},set:function(n){}},max:{get:function(){var n=this.state.max;return 1/0===(n=+n)||i(n)&&n>=0?n:1/0},set:function(n){return this.state.max=i(n=+n)&&n>=0?n:1/0,this}},min:{get:function(){var n=this.state.min;return-1/0===(n=+n)||i(n)&&n>=0?n:-1/0},set:function(n){return this.state.min=i(n=+n)&&n>=0?n:-1/0,this}},step:{get:function(){var n=this.state.step;return i(n=+n)&&n>0?n:1},set:function(n){return this.state.step=i(n=+n)&&n>0?n:1,this}},value:{get:function(){var n=D(this.self);return""!==n?n:null},set:function(n){var t,e=this;if(!e._active)return e;n=+(t=(null!=n?n:"")+"");var r=e._mask,u=e.mask,a=e.max,o=e.min,f=e.self,l=r.hint;return function(n,t,e){if(void 0===e&&(e=!0),null===t)return n;var r="textContent";M(n,r)&&(n[r]=e?t.trim():t)}(r.input,t),""!==t?en(l,Wn,"hidden"):U(l,Wn),!i(n)||n<o||n>a?(z(u,zn,!0),e):(un(f,t),e.fire("change",[""!==t?t:null]))}},vital:{get:function(){return this._vital},set:function(n){}}}),lt._=(Tn={attach:function(n,r){var u,i,l,c=this;n=n||c.self,r=r||c.state,c._value=null,c.self=n,c.state=r;var s=r,v=s.max,d=s.min,p=s.n,h=s.step,y=n.disabled,_=function(n){return n.readOnly}(n),b=function(n){return n.required}(n),g=n.id,k=n.max,w=n.min,A=n.name,S=n.placeholder||w,C=n.step,O=D(n);c._active=!y&&!_,c._fix=_,c._vital=b;var j=V("span",{class:p+"__step-down",tabindex:-1}),L=V("span",{aria:{hidden:Jn},class:p+"__step"}),R=V("span",{class:p+"__step-up",tabindex:-1});E(n);var I=V("div",{aria:{disabled:!!y&&Jn,readonly:!!_&&Jn,required:!!b&&Jn,valuemax:9999,valuemin:0,valuenow:0},class:p,role:"spinbutton"});c.mask=I;var P=V("div",{class:p+"__flex",role:"group"}),M=V("span",{class:p+"__text"}),q=V("span",{aria:{disabled:!!y&&Jn,multiline:Un,placeholder:S||"0",readonly:!!_&&Jn,required:!!b&&Jn},autocapitalize:"off",contenteditable:!y&&!_&&"",role:"textbox",spellcheck:Un,tabindex:!!_&&0}),$=V("span",S||"0",{aria:{hidden:Jn}});W(I,P),W(P,M),W(P,L),W(L,R),W(L,j),Nn(En,q,Xn),Nn("cut",q,Zn),Nn(Ln,q,nt),Nn("input",q,tt),Nn(Rn,q,et),Nn(In,j,it),Nn(In,R,at),Nn(Mn,q,rt),Nn(Fn,j,it),Nn(Fn,R,at),Nn(Hn,I,ft),W(M,q),W(M,$),x(j,c),x(R,c),x(q,c),Y(n,p+"__self"),tn(n,I),W(I,n),Nn(In,I,ut),Nn(Pn,T,ot),Nn($n,T,ot),Nn(Fn,I,ut),n[Bn]=-1,x(I,c),c._mask={_step:{down:j,self:L,up:R},flex:P,hint:$,input:q,of:n,self:I,step:L},c.max=v=null!=(u=null!=k?k:v)?u:1/0,c.min=d=null!=(i=null!=w?w:d)?i:-1/0,c.step=h=null!=(l=null!=C?C:h)?l:1;var F=c._active;return c._active=!0,c._active=F,z(I,"labelledby",N(nn(M))),z(n,"hidden",!0),nn(I),nn(P),nn(n),nn(j),nn(L),nn(R),nn(q),nn($),g&&Q(I,"id",g),A&&Q(I,"name",A),O&&(c.value=O),o(r)&&t(r.with)&&m(r.with,(function(t,u){f(t)&&(t=OptionPicker[t]),e(t)?t.call(c,n,r):a(t)&&e(t.attach)&&t.attach.call(c,n,r)})),c},blur:function(){},detach:function(){var n,r=this,u=r._mask,i=r.mask,o=r.self,l=r.state,c=u.input;return u.value,E(o),r._active=!1,r._value=null,Cn(En,c,Xn),Cn(Ln,c,nt),Cn("cut",c,Zn),Cn(Rn,c,et),Cn(Mn,c,rt),Cn(In,i,ut),Cn(Pn,T,ot),Cn($n,T,ot),Cn(Fn,i,ut),Cn(Hn,i,ft),t(l.with)&&m(l.with,(function(n,t){f(n)&&(n=OptionPicker[n]),a(n)&&e(n.detach)&&n.detach.call(r,o,l)})),o[Bn]=null,q(o,"hidden"),H(o,l.n+"__self"),tn(i,o),j(n=i),n.remove(),r._mask={of:o},r.mask=null,r},focus:function(n){var t=this._mask.input;return Vn(t),sn(t,n),this},reset:function(n,t){}},Sn=y(Sn=lt),h(Tn,(function(n,t){Sn[t]=n})),Sn),lt}));