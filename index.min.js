/*!
 *
 * The MIT License (MIT)
 *
 * Copyright © 2025 Taufik Nurrohman <https://github.com/taufik-nurrohman>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).NumberPicker=t()}(this,(function(){"use strict";var n=function(n){return Array.isArray(n)},t=function(n){return"function"==typeof n},e=function(n,t,e){return!(!n||"object"!=typeof n)&&(e?i(t)&&i(n.constructor)&&t===n.constructor:i(t)&&n instanceof t)},r=function(n){return"number"==typeof n},u=function(n,t){return void 0===t&&(t=!0),!(!n||"object"!=typeof n)&&(!t||e(n,Object,1))},i=function(n){return function(n){return void 0!==n}(n)&&!function(n){return null===n}(n)},o=function(n){return"string"==typeof n},a=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var o,f=e.shift(),c=0,l=s(e);c<l;++c)for(var d in e[c])if(i(f[d]))if(n(f[d])&&n(e[c][d])){f[d]=[].concat(f[d]);for(var v=0,p=s(e[c][d]);v<p;++v)o=e[c][d][v],-1===f[d].indexOf(o)&&f[d].push(e[c][d][v])}else u(f[d])&&u(e[c][d])?f[d]=a({},f[d],e[c][d]):f[d]=e[c][d];else f[d]=e[c][d];return f},f=function(t){if(n(t))return t.map((function(n){return f(t)}));if(u(t)){for(var e in t)t[e]=f(t[e]);return t}return!1===t?"false":null===t?"null":!0===t?"true":""+t},c=function(n){return n.replace(/[-_.](\w)/g,(function(n,t){return l(t)}))},l=function(n){return n.toUpperCase()},s=function(n){return n.length},d=function(t){if(n(t))return t.map((function(n){return d(n)}));if(u(t)){for(var e in t)t[e]=d(t[e]);return t}return o(t)&&function(n){return/^[+-]?(?:\d*\.)?\d+$/.test(n+"")}(t)?"0"===t[0]&&-1===t.indexOf(".")?t:function(n,t){return void 0===t&&(t=10),t?parseInt(n,t):parseFloat(n)}(t):"false"!==t&&("null"===t?null:"true"===t||t)},v=function(n,t){for(var e,r=0,u=s(n);r<u;++r)if(-1!==(e=t(n[r],r))){if(0===e)break}else n.splice(r,1);return n},p=function(n,t){var e;for(var r in n)if(-1!==(e=t(n[r],r))){if(0===e)break}else delete n[r];return n},h=function(n){return n.prototype},m=function(n){return _(n,k)||null},_=function(n,t){return t.get(n)},b=function(n,t,e){return e||(n=h(n)),p(t,(function(t,e){Object.defineProperty(n,e,t)})),n},y=function(n,t){return x(n,t,k)},x=function(n,t,e){return e.set(n,t)},k=new WeakMap;var g=document,w=function(n,t,e){if(void 0===e&&(e=!0),!P(n,t))return null;var r=n.getAttribute(t);return e?d(r):r},T=function(n,t,e){var u,i=(u=n.childNodes,Array.from(u));return r(t)?i[t]||null:i},N=function(n,t){return void 0===t&&(t="e:"),S(n)?w(n,"id"):(i(tn[t])||(tn[t]=0),t+(e=Date.now()+(tn[t]+=1),u=16,r(e)?e.toString(u):""+e));var e,u},A=function(n,t){return t?n.closest(t)||null:n.parentNode||null},O=function(n){var t="form";return j(n,t)&&t===function(n){return(n&&n.nodeName||"").toLowerCase()||null}(n[t])?n[t]:A(n,t)},E=function(n,t){var e="textContent";if(!j(n,e))return!1;var r=n[e];return""!==r?r:null},L=function(n){return n&&n.nodeType||null},P=function(n,t){return n.hasAttribute(t)},S=function(n){return P(n,"id")},j=function(n,t){return t in n},C=function(n){return n.disabled},q=function(n){return n.readOnly},I=function(n,t){return M(n,"aria-"+t)},M=function(n,t){return n.removeAttribute(t),n},D=function(n,t){return n.classList.remove(t),n},H=function(n,t){return n.style[c(t)]=null,n},R=function(n,t,e){return U(n,"aria-"+t,!0===e?"true":e)},U=function(n,t,e){return!0===e&&(e=t),n.setAttribute(t,f(e)),n},z=function(n,t){return p(t,(function(t,e){return"aria"===e&&u(t)?(function(n,t){p(t,(function(t,e){t||""===t||0===t?R(n,e,t):I(n,e)}))}(n,t),1):"class"===e?(V(n,t),1):"data"===e&&u(t)?(W(n,t),1):"style"===e&&u(t)?(nn(n,t),1):void(t||""===t||0===t?U(n,e,t):M(n,e))})),n},F=function(n,t){return n.append(t),t},J=function(n,t){return n.classList.add(t),n},V=function(t,e){return n(e)?(v(e,(function(n){return J(t,n)})),t):u(e)?(p(e,(function(n,e){return n?J(t,e):D(t,e)})),t):(t.className=e,t)},W=function(n,t){return p(t,(function(t,e){t||""===t||0===t?B(n,e,t):function(n,t){M(n,"data-"+t)}(n,e)})),n},B=function(t,e,r){return(n(r)||u(r))&&(r=JSON.stringify(r)),U(t,"data-"+e,!0===r?"true":r)},G=function(t,e,r,i){return t=o(t)?g.createElement(t,o(i)?{is:i}:i):t,n(e)&&s(e)?(!function(n){var t="innerHTML";j(n,t)&&(n[t]="")}(t),v(e,(function(n){return F(o(n)?K(n):n)}))):u(e)&&(r=e,e=!1),o(e)&&Q(t,e),u(r)?(z(t,r),t):t},K=function(n){return o(n)&&(n=g.createTextNode(n)),n},Q=function(n,t,e){if(void 0===e&&(e=!0),null===t)return n;var r="innerHTML";return j(n,r)&&(n[r]=e?t.trim():t),n},X=function(n,t,e){return void 0===e&&(e="e:"),U(n,"id",i(t)?t:N(n,e))},Y=function(n,t){return n.after(t),t},Z=function(n,t,e){return r(e)&&(e+="px"),n.style[c(t)]=f(e),n},nn=function(n,t){return p(t,(function(t,e){t||""===t||0===t?Z(n,e,t):H(n,e)})),n},tn={},en=function(){return g.getSelection()},rn=function(){return g.createRange()},un=function(n,t){return(t=t||en()).empty(),t},on=function(n,t,e){var r=0,u=rn();u.setStart(n,0),u.collapse(!0);for(var i,o,a,f=[n];!i&&(a=f.pop());)if(3===L(a)){var c=r+s(a);!o&&t[0]>=r&&t[0]<=c&&(u.setStart(a,t[0]-r),o=!0),o&&t[1]>=r&&t[1]<=c&&(i=!0,u.setEnd(a,t[1]-r)),r=c}else v(T(a,null),(function(n){return f.push(n)}));return an(n,u,un(0,e))},an=function(t,e,r){return r=r||en(),n(e)?on(t,e,r):(r.addRange(e),r)};var fn,cn,ln=function(n,t,e){t.removeEventListener(n,e)},sn=function(n){return n&&n.preventDefault()},dn=function(n,t,e,r){void 0===r&&(r=!1),t.addEventListener(n,e,r)},vn="down",pn="key"+vn,hn="mouse"+vn,mn="paste",_n="touchstart",bn="false",yn="tabIndex",xn="true",kn="visibility";function gn(n){return n.focus(),n}function wn(n){}function Tn(n){var t=n.inputType,e=m(this);if(!e._active)return sn(n);var r=e._mask.hint;"deleteContent"!==t.slice(0,13)||E(this)?"insertText"===t&&Z(r,kn,"hidden"):H(r,kn)}function Nn(n){var t=this;n.key;var e=m(t),r=e._mask;e.self,e.state;var u,i,o=r.hint;(u=function(){return E(t)?Z(o,kn,"hidden"):H(o,kn)},i=1,function(){var n=arguments,t=this;setTimeout((function(){return u.apply(t,n)}),i)})()}function An(n){}function On(n){sn(n);var t=m(this);t._mask;var e=t.self,r=n.target;C(e)||q(e)||("listbox"===w(r,"role")||A(r,"[role=listbox]")||gn(t))}function En(n,t){var r=this;return n?e(r,En)?(y(n,function(n,t){return(t=t||n).fire=function(n,t,e){var r=this,u=r.hooks;return i(u[n])?(v(u[n],(function(n){n.apply(e||r,t)})),r):r},t.off=function(n,t){var e=this,r=e.hooks;if(!i(n))return r={},e;if(i(r[n]))if(i(t)){var u=s(r[n]);if(0===u)delete r[n];else for(var o=0;o<u;++o)if(t===r[n][o]){r[n].splice(o,1);break}}else delete r[n];return e},t.on=function(n,t){var e=this.hooks;return i(e[n])||(e[n]=[]),i(t)&&e[n].push(t),this},n.hooks={},n}(r,En._)),r.attach(n,a({},En.state,t||{}))):new En(n,t):r}return En.from=function(n,t){return new En(n,t)},En.of=m,En.state={max:null,min:null,n:"number-picker",step:null,with:[]},En.version="1.0.0",b(En,{name:{value:"NumberPicker"}},1),b(En,{active:{get:function(){return this._active},set:function(n){return $}},fix:{get:function(){return this._fix},set:function(n){}},max:{get:function(){},set:function(n){}},min:{get:function(){},set:function(n){}},value:{get:function(){var n=function(n){var t=(n.value||"").replace(/\r?\n|\r/g,"\n");return""!==t?t:null}(this.self);return""!==n?n:null},set:function(n){}},vital:{get:function(){return this._vital},set:function(n){}}}),En._=(cn={attach:function(e,r){var a=this;e=e||a.self,r=r||a.state,a._value=null,a.self=e,a.state=r;var f=r,c=f.max,l=f.min,s=f.n,d=C(e),p=q(e),h=e.required,m=e.id;e.max;var _=e.min,b=e.name,x=e.placeholder||_;e.step,a._active=!d&&!p,a._fix=p,a._vital=h;var k=G("span",{aria:{hidden:xn},class:s+"__step-batch"}),g=G("span",{class:s+"__step "+s+"__step-down",tabindex:-1}),w=G("span",{class:s+"__step "+s+"__step-up",tabindex:-1});O(e);var T=G("div",{aria:{disabled:!!d&&xn,readonly:!!p&&xn,required:!!h&&xn,valuemax:9999,valuemin:0,valuenow:0},class:s,role:"spinbutton"});a.mask=T;var A=G("div",{class:s+"__flex",role:"group"}),E=G("span",{class:s+"__text"}),L=G("span",{aria:{disabled:!!d&&xn,multiline:bn,placeholder:x||"0",readonly:!!p&&xn,required:!!h&&xn},autocapitalize:"off",contenteditable:!d&&!p&&"",role:"textbox",spellcheck:bn,tabindex:!!p&&0}),P=G("span",x||"0",{aria:{hidden:xn}});F(T,A),F(A,E),F(A,k),F(k,g),F(k,w),dn("cut",L,wn),dn(EVENT_INPUT,L,Tn),dn(pn,L,Nn),dn(mn,L,An),F(E,L),F(E,P),y(L,a),J(e,s+"__self"),Y(e,T),F(T,e),dn(hn,T,On),dn(_n,T,On),e[yn]=-1,y(T,a),a._mask={flex:A,hint:P,input:L,of:e,self:T},a.max=c=null!=c?c:1/0,a.min=l=null!=l?l:-1/0;var S=a._active;return a._active=!0,a._active=S,R(T,"labelledby",N(X(E))),R(e,"hidden",!0),X(T),X(A),X(e),X(k),X(g),X(w),X(L),X(P),m&&B(T,"id",m),b&&B(T,"name",b),i(r)&&n(r.with)&&v(r.with,(function(n,i){o(n)&&(n=OptionPicker[n]),t(n)?n.call(a,e,r):u(n)&&t(n.attach)&&n.attach.call(a,e,r)})),a},blur:function(){},detach:function(){var e,r=this,i=r._mask,a=r.mask,f=r.self,c=r.state,l=i.input;return i.value,O(f),r._active=!1,r._value=null,ln("cut",l,wn),ln(pn,l,Nn),ln(mn,l,An),ln(hn,a,On),ln(_n,a,On),n(c.with)&&v(c.with,(function(n,e){o(n)&&(n=OptionPicker[n]),u(n)&&t(n.detach)&&n.detach.call(r,f,c)})),f[yn]=null,I(f,"hidden"),D(f,c.n+"__self"),Y(a,f),A(e=a),e.remove(),r._mask={of:f},r.mask=null,r},focus:function(n){var t=this._mask.input;return gn(t),function(n,t,e){e=e||en(),un(0,e);var r=rn();r.selectNodeContents(n),e=an(n,r,e),1===t?e.collapseToEnd():-1===t&&e.collapseToStart()}(t,n),this},reset:function(n,t){}},fn=h(fn=En),p(cn,(function(n,t){fn[t]=n})),fn),En}));