/*!
 *
 * The MIT License (MIT)
 *
 * Copyright © 2025 Taufik Nurrohman <https://github.com/taufik-nurrohman>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).NumberPicker=t()}(this,(function(){"use strict";function n(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}var t=function(n){return Array.isArray(n)},e=function(n){return"function"==typeof n},r=function(n,t,e){return!(!n||"object"!=typeof n)&&(e?o(t)&&o(n.constructor)&&t===n.constructor:o(t)&&n instanceof t)},i=function(n){return u(n)&&0==n%1},u=function(n){return"number"==typeof n},a=function(n,t){return void 0===t&&(t=!0),!(!n||"object"!=typeof n)&&(!t||r(n,Object,1))},o=function(n){return function(n){return void 0!==n}(n)&&!function(n){return null===n}(n)},f=function(n){return"string"==typeof n},c=function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];for(var i,u=e.shift(),f=0,l=d(e);f<l;++f)for(var s in e[f])if(o(u[s]))if(t(u[s])&&t(e[f][s])){u[s]=[].concat(u[s]);for(var v=0,p=d(e[f][s]);v<p;++v)i=e[f][s][v],-1===u[s].indexOf(i)&&u[s].push(e[f][s][v])}else a(u[s])&&a(e[f][s])?u[s]=c({},u[s],e[f][s]):u[s]=e[f][s];else u[s]=e[f][s];return u},l=function(n){if(t(n))return n.map((function(t){return l(n)}));if(a(n)){for(var e in n)n[e]=l(n[e]);return n}return!1===n?"false":null===n?"null":!0===n?"true":""+n},s=function(n){return n.replace(/[-_.](\w)/g,(function(n,t){return v(t)}))},v=function(n){return n.toUpperCase()},d=function(n){return n.length},p=function(n){if(t(n))return n.map((function(n){return p(n)}));if(a(n)){for(var e in n)n[e]=p(n[e]);return n}return f(n)&&function(n){return/^[+-]?(?:\d*\.)?\d+$/.test(n+"")}(n)?"0"===n[0]&&-1===n.indexOf(".")?n:function(n,t){return void 0===t&&(t=10),t?parseInt(n,t):parseFloat(n)}(n):"false"!==n&&("null"===n?null:"true"===n||n)},m=function(n,t){for(var e,r=0,i=d(n);r<i;++r)if(-1!==(e=t(n[r],r))){if(0===e)break}else n.splice(r,1);return n},h=function(n,t){var e;for(var r in n)if(-1!==(e=t(n[r],r))){if(0===e)break}else delete n[r];return n},y=function(n){return n.prototype},_=function(n){return b(n,w)||null},b=function(n,t){return t.get(n)},g=function(n,t,e){return e||(n=y(n)),h(t,(function(t,e){Object.defineProperty(n,e,t)})),n},x=function(n,t){return k(n,t,w)},k=function(n,t,e){return e.set(n,t)},w=new WeakMap;var A=document,S=window,T=A.documentElement,C=function(n,t){return n["first"+(t?"":"Element")+"Child"]||null},O=function(n,t,e){var r,i=(r=n.childNodes,Array.from(r));return u(t)?i[t]||null:i},N=function(n,t){return void 0===t&&(t="e:"),P(n)?function(n,t,e){if(void 0===e&&(e=!0),!I(n,t))return null;var r=n.getAttribute(t);return e?p(r):r}(n,"id"):(o(an[t])||(an[t]=0),t+(e=Date.now()+(an[t]+=1),r=16,u(e)?e.toString(r):""+e));var e,r},j=function(n,t){return t?n.closest(t)||null:n.parentNode||null},E=function(n){var t="form";return M(n,t)&&t===function(n){return(n&&n.nodeName||"").toLowerCase()||null}(n[t])?n[t]:j(n,t)},L=function(n,t){void 0===t&&(t=!0);var e="textContent";if(!M(n,e))return!1;var r=n[e];return""!==(r=t?r.trim():r)?r:null},R=function(n){return n&&n.nodeType||null},D=function(n,t){var e=(n.value||"").replace(/\r?\n|\r/g,"\n");return""!==e?e:null},I=function(n,t){return n.hasAttribute(t)},P=function(n){return I(n,"id")},M=function(n,t){return t in n},q=function(n,t){return F(n,"aria-"+t)},F=function(n,t){return n.removeAttribute(t),n},H=function(n,t){return n.classList.remove(t),n},U=function(n,t){return n.style[s(t)]=null,n},z=function(n,t,e){return B(n,"aria-"+t,!0===e?"true":e)},B=function(n,t,e){return!0===e&&(e=t),n.setAttribute(t,l(e)),n},J=function(n,t){return h(t,(function(t,e){return"aria"===e&&a(t)?(function(n,t){h(t,(function(t,e){t||""===t||0===t?z(n,e,t):q(n,e)}))}(n,t),1):"class"===e?(G(n,t),1):"data"===e&&a(t)?(K(n,t),1):"style"===e&&a(t)?(rn(n,t),1):void(t||""===t||0===t?B(n,e,t):F(n,e))})),n},W=function(n,t){return n.append(t),t},Y=function(n,t){return n.classList.add(t),n},G=function(n,e){return t(e)?(m(e,(function(t){return Y(n,t)})),n):a(e)?(h(e,(function(t,e){return t?Y(n,e):H(n,e)})),n):(n.className=e,n)},K=function(n,t){return h(t,(function(t,e){t||""===t||0===t?Q(n,e,t):function(n,t){F(n,"data-"+t)}(n,e)})),n},Q=function(n,e,r){return(t(r)||a(r))&&(r=JSON.stringify(r)),B(n,"data-"+e,!0===r?"true":r)},V=function(n,e,r,i){return n=f(n)?A.createElement(n,f(i)?{is:i}:i):n,t(e)&&d(e)?(!function(n){var t="innerHTML";M(n,t)&&(n[t]="")}(n),m(e,(function(n){return W(f(n)?X(n):n)}))):a(e)&&(r=e,e=!1),f(e)&&Z(n,e),a(r)?(J(n,r),n):n},X=function(n){return f(n)&&(n=A.createTextNode(n)),n},Z=function(n,t,e){if(void 0===e&&(e=!0),null===t)return n;var r="innerHTML";return M(n,r)&&(n[r]=e?t.trim():t),n},nn=function(n,t,e){return void 0===e&&(e="e:"),B(n,"id",o(t)?t:N(n,e))},tn=function(n,t){return n.after(t),t},en=function(n,t,e){return u(e)&&(e+="px"),n.style[s(t)]=l(e),n},rn=function(n,t){return h(t,(function(t,e){t||""===t||0===t?en(n,e,t):U(n,e)})),n},un=function(n,t){return null===t?F(n,"value"):(n.value=l(t),n)},an={},on=function(){return A.getSelection()},fn=function(){return A.createRange()},cn=function(n,t){return(t=t||on()).empty(),t},ln=function(n,t,e){var r=0,i=fn();i.setStart(n,0),i.collapse(!0);for(var u,a,o,f=[n];!u&&(o=f.pop());)if(3===R(o)){var c=r+d(o);!a&&t[0]>=r&&t[0]<=c&&(i.setStart(o,t[0]-r),a=!0),a&&t[1]>=r&&t[1]<=c&&(u=!0,i.setEnd(o,t[1]-r)),r=c}else m(O(o,null),(function(n){return f.push(n)}));return dn(n,i,cn(0,e))},sn=function(n,t,e){e=e||on(),cn(0,e);var r=fn();r.selectNodeContents(n),e=dn(n,r,e),1===t?e.collapseToEnd():-1===t&&e.collapseToStart()},vn=function(n){return(n=n||on()).rangeCount&&n.removeRange(n.getRangeAt(0)),n},dn=function(n,e,r){return r=r||on(),t(e)?ln(n,e,r):(r.addRange(e),r)};function pn(n){return Array.from(n)}var mn=S.clearTimeout,hn=S.setTimeout;var yn,_n,bn,gn,xn,kn,wn,An,Sn,Tn=function(n,t,e){t.removeEventListener(n,e)},Cn=function(n){return n&&n.preventDefault()},On=function(n,t,e,r){void 0===r&&(r=!1),t.addEventListener(n,e,r)},Nn="down",jn="blur",En="focus",Ln="key"+Nn,Rn="mouse",Dn=Rn+Nn,In=Rn+"up",Pn="paste",Mn="touch",qn=Mn+"end",$n=Mn+"start",Fn="wheel",Hn="false",Un="invalid",zn="tabIndex",Bn="true",Jn="visibility",Wn=(yn=function(n,t){var e=n.max,r=n.min,i=n.value;if((i=+(null!=i?i:0)+t)>e||i<r)return Kn(),Qn(this);n.value=i,Qn(this)},kn=i(_n)&&_n>=0,wn=i(bn)&&bn>=0,[function(){var n=this,t=pn(arguments);kn||(_n=t.shift()),wn||(bn=t.shift());var e=function(){yn.apply(n,t),gn=hn(e,bn)};_n>0?xn=hn(e,_n):e()},function(){gn&&mn(gn),xn&&mn(xn)}]),Yn=function(t,e,r){if(e&&!Array.isArray(e)&&"number"==typeof e.length){var i=e.length;return n(e,r<i?r:i)}return t(e,r)}((function(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,i,u,a,o=[],f=!0,c=!1;try{if(u=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;f=!1}else for(;!(f=(r=u.call(e)).done)&&(o.push(r.value),o.length!==t);f=!0);}catch(n){c=!0,i=n}finally{try{if(!f&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}),Wn,2),Gn=Yn[0],Kn=Yn[1];function Qn(n){return n.focus(),n}function Vn(){var n=_(this),t=n.mask,e=n.state.error;u(e)&&e>0?function(n,t){var e,r=i(t)&&t>=0;return[function(){var i=this,u=pn(arguments);r||(t=u.shift()),e=hn((function(){return n.apply(i,u)}),t)},function(){e&&mn(e)}]}((function(){return q(t,Un)}))(e):q(t,Un)}function Xn(n){_(this).value=L(this)}function Zn(){sn(this)}function nt(n){var t,e=n.inputType,r=_(this),i=r._active,a=r.self,o=+(t=L(this));if(!i)return Cn(n);var f=r._mask,c=r.mask,l=r.max,s=r.min,v=r.step,d=f.hint;return"deleteContent"===e.slice(0,13)&&0===o?U(d,Jn):"insertText"===e&&en(d,Jn,"hidden"),u(o)?0!==o%v?(r.fire("not.value",[t]),z(c,Un,!0),Cn(n)):o>l?(r.fire("max.number",[o,l]),z(c,Un,!0),Cn(n)):o<s?(r.fire("min.number",[o,s]),z(c,Un,!0),Cn(n)):(q(c,Un),r.fire("is.number",[o]),un(a,o+=""),void r.fire("change",[o])):(r.fire("not.number",[t]),z(c,Un,!0),Cn(n))}function tt(n){n.key;var t=_(this),e=t._mask;t.self,t.state,e.hint}function et(n){Cn(n);var e=this,r=_(e);!function(n,e,r,i){var u,a,o;if((i=i||on()).rangeCount){var c,l,s;if((a=i.getRangeAt(0)).deleteContents(),o=A.createDocumentFragment(),f(e))for(u=V("div"),Z(u,e);c=C(u,1);)s=W(o,c);else t(e)?m(e,(function(n){return s=W(o,n)})):s=W(o,e);l=C(o,1),a.insertNode(o),s&&((a=a.cloneRange()).setStartAfter(s),a.setStartBefore(l),dn(n,a,vn(i)))}}(e,n.clipboardData.getData("text/plain")),r.value=L(e)}function rt(n){Cn(n);var t=_(this);if(t._active){var e=t._mask,r=t.mask,i=t.state,u=e._step,a=u.down,o=u.up;i.n;var f=n.target,c=f,l=f;if(a!==c){for(;r!==c;)if(a===(c=j(c)))return;if(o!==l){for(;r!==l;)if(o===(l=j(l)))return;Qn(t)}}}}function it(n){Cn(n);var t=this,e=_(t),r=e._active,i=e._fix;if(r){if(i)return Qn(e);e._mask,e.max;var u=e.min,a=e.step,o=e.value;if((o=+(null!=o?o:0)-a)<u)return e.value=u,Qn(t);e.value=o,Qn(t),Fn!==n.type&&Gn.call(t,500,100,e,-a)}}function ut(n){Cn(n);var t=this,e=_(t),r=e._active,i=e._fix;if(r){if(i)return Qn(e);e._mask;var u=e.max;e.min;var a=e.step,o=e.value;if((o=+(null!=o?o:0)+a)>u)return e.value=u,Qn(t);e.value=o,Qn(t),Fn!==n.type&&Gn.call(t,500,100,e,a)}}function at(){Kn()}function ot(n){Cn(n);var t=_(this)._mask._step,e=t.down,r=t.up;n.deltaY<0?ut.call(r,n):it.call(e,n)}function ft(n,t){var e=this;return n?r(e,ft)?(x(n,function(n,t){return(t=t||n).fire=function(n,t,e){var r=this,i=r.hooks;return o(i[n])?(m(i[n],(function(n){n.apply(e||r,t)})),r):r},t.off=function(n,t){var e=this,r=e.hooks;if(!o(n))return r={},e;if(o(r[n]))if(o(t)){var i=d(r[n]);if(0===i)delete r[n];else for(var u=0;u<i;++u)if(t===r[n][u]){r[n].splice(u,1);break}}else delete r[n];return e},t.on=function(n,t){var e=this.hooks;return o(e[n])||(e[n]=[]),o(t)&&e[n].push(t),this},n.hooks={},n}(e,ft._)),e.attach(n,c({},ft.state,t||{}))):new ft(n,t):e}return ft.from=function(n,t){return new ft(n,t)},ft.of=_,ft.state={max:null,min:null,n:"number-picker",step:null,time:{error:1e3},with:[]},ft.version="1.0.0",g(ft,{name:{value:"NumberPicker"}},1),g(ft,{active:{get:function(){return this._active},set:function(n){return $}},fix:{get:function(){return this._fix},set:function(n){}},max:{get:function(){var n=this.state.max;return 1/0===(n=+n)||u(n)&&n>=0?n:1/0},set:function(n){return this.state.max=u(n=+n)&&n>=0?n:1/0,this}},min:{get:function(){var n=this.state.min;return-1/0===(n=+n)||u(n)&&n>=0?n:-1/0},set:function(n){return this.state.min=u(n=+n)&&n>=0?n:-1/0,this}},step:{get:function(){var n=this.state.step;return u(n=+n)&&n>0?n:1},set:function(n){return this.state.step=u(n=+n)&&n>0?n:1,this}},value:{get:function(){var n=D(this.self);return""!==n?n:null},set:function(n){var t=this;if(!t._active)return t;n=+n;var e=t._mask,r=t.mask,i=t.max,a=t.min,o=t.self,f=e.hint,c=e.input;return!u(n)||n<a||n>i?(z(r,Un,!0),t):(""!=(n+="")?en(f,Jn,"hidden"):U(f,Jn),function(n,t,e){if(void 0===e&&(e=!0),null===t)return n;var r="textContent";M(n,r)&&(n[r]=e?t.trim():t)}(c,n),un(o,n),t.fire("change",[n]))}},vital:{get:function(){return this._vital},set:function(n){}}}),ft._=(Sn={attach:function(n,r){var i,u,c,l=this;n=n||l.self,r=r||l.state,l._value=null,l.self=n,l.state=r;var s=r,v=s.max,d=s.min,p=s.n,h=s.step,y=n.disabled,_=function(n){return n.readOnly}(n),b=function(n){return n.required}(n),g=n.id,k=n.max,w=n.min,A=n.name,S=n.placeholder||w,C=n.step,O=D(n);l._active=!y&&!_,l._fix=_,l._vital=b;var j=V("span",{class:p+"__step-down",tabindex:-1}),L=V("span",{aria:{hidden:Bn},class:p+"__step"}),R=V("span",{class:p+"__step-up",tabindex:-1});E(n);var I=V("div",{aria:{disabled:!!y&&Bn,readonly:!!_&&Bn,required:!!b&&Bn,valuemax:9999,valuemin:0,valuenow:0},class:p,role:"spinbutton"});l.mask=I;var P=V("div",{class:p+"__flex",role:"group"}),M=V("span",{class:p+"__text"}),q=V("span",{aria:{disabled:!!y&&Bn,multiline:Hn,placeholder:S||"0",readonly:!!_&&Bn,required:!!b&&Bn},autocapitalize:"off",contenteditable:!y&&!_&&"",role:"textbox",spellcheck:Hn,tabindex:!!_&&0}),$=V("span",S||"0",{aria:{hidden:Bn}});W(I,P),W(P,M),W(P,L),W(L,R),W(L,j),On(jn,q,Vn),On("cut",q,Xn),On(En,q,Zn),On("input",q,nt),On(Ln,q,tt),On(Dn,j,it),On(Dn,R,ut),On(Pn,q,et),On($n,j,it),On($n,R,ut),On(Fn,I,ot),W(M,q),W(M,$),x(j,l),x(R,l),x(q,l),Y(n,p+"__self"),tn(n,I),W(I,n),On(Dn,I,rt),On(In,T,at),On(qn,T,at),On($n,I,rt),n[zn]=-1,x(I,l),l._mask={_step:{down:j,self:L,up:R},flex:P,hint:$,input:q,of:n,self:I,step:L},l.max=v=null!=(i=null!=k?k:v)?i:1/0,l.min=d=null!=(u=null!=w?w:d)?u:-1/0,l.step=h=null!=(c=null!=C?C:h)?c:1;var F=l._active;return l._active=!0,l._active=F,z(I,"labelledby",N(nn(M))),z(n,"hidden",!0),nn(I),nn(P),nn(n),nn(j),nn(L),nn(R),nn(q),nn($),g&&Q(I,"id",g),A&&Q(I,"name",A),O&&(l.value=O),o(r)&&t(r.with)&&m(r.with,(function(t,i){f(t)&&(t=OptionPicker[t]),e(t)?t.call(l,n,r):a(t)&&e(t.attach)&&t.attach.call(l,n,r)})),l},blur:function(){},detach:function(){var n,r=this,i=r._mask,u=r.mask,o=r.self,c=r.state,l=i.input;return i.value,E(o),r._active=!1,r._value=null,Tn(jn,l,Vn),Tn(En,l,Zn),Tn("cut",l,Xn),Tn(Ln,l,tt),Tn(Pn,l,et),Tn(Dn,u,rt),Tn(In,T,at),Tn(qn,T,at),Tn($n,u,rt),Tn(Fn,u,ot),t(c.with)&&m(c.with,(function(n,t){f(n)&&(n=OptionPicker[n]),a(n)&&e(n.detach)&&n.detach.call(r,o,c)})),o[zn]=null,q(o,"hidden"),H(o,c.n+"__self"),tn(u,o),j(n=u),n.remove(),r._mask={of:o},r.mask=null,r},focus:function(n){var t=this._mask.input;return Qn(t),sn(t,n),this},reset:function(n,t){}},An=y(An=ft),h(Sn,(function(n,t){An[t]=n})),An),ft}));