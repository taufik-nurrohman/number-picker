/*!
 *
 * The MIT License (MIT)
 *
 * Copyright © 2025 Taufik Nurrohman <https://github.com/taufik-nurrohman>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).NumberPicker=t()}(this,(function(){"use strict";function n(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}var t=function(n){return Array.isArray(n)},e=function(n){return"function"==typeof n},r=function(n,t,e){return!(!n||"object"!=typeof n)&&(e?o(t)&&o(n.constructor)&&t===n.constructor:o(t)&&n instanceof t)},i=function(n){return u(n)&&0==n%1},u=function(n){return"number"==typeof n},a=function(n,t){return void 0===t&&(t=!0),!(!n||"object"!=typeof n)&&(!t||r(n,Object,1))},o=function(n){return function(n){return void 0!==n}(n)&&!function(n){return null===n}(n)},f=function(n){return"string"==typeof n},c=function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];for(var i,u=e.shift(),f=0,l=d(e);f<l;++f)for(var s in e[f])if(o(u[s]))if(t(u[s])&&t(e[f][s])){u[s]=[].concat(u[s]);for(var v=0,p=d(e[f][s]);v<p;++v)i=e[f][s][v],-1===u[s].indexOf(i)&&u[s].push(e[f][s][v])}else a(u[s])&&a(e[f][s])?u[s]=c({},u[s],e[f][s]):u[s]=e[f][s];else u[s]=e[f][s];return u},l=function(n){if(t(n))return n.map((function(t){return l(n)}));if(a(n)){for(var e in n)n[e]=l(n[e]);return n}return!1===n?"false":null===n?"null":!0===n?"true":""+n},s=function(n){return n.replace(/[-_.](\w)/g,(function(n,t){return v(t)}))},v=function(n){return n.toUpperCase()},d=function(n){return n.length},p=function(n){if(t(n))return n.map((function(n){return p(n)}));if(a(n)){for(var e in n)n[e]=p(n[e]);return n}return f(n)&&function(n){return/^[+-]?(?:\d*\.)?\d+$/.test(n+"")}(n)?"0"===n[0]&&-1===n.indexOf(".")?n:function(n,t){return void 0===t&&(t=10),t?parseInt(n,t):parseFloat(n)}(n):"false"!==n&&("null"===n?null:"true"===n||n)},m=function(n,t){for(var e,r=0,i=d(n);r<i;++r)if(-1!==(e=t(n[r],r))){if(0===e)break}else n.splice(r,1);return n},h=function(n,t){var e;for(var r in n)if(-1!==(e=t(n[r],r))){if(0===e)break}else delete n[r];return n},y=function(n){return n.prototype},_=function(n){return b(n,w)||null},b=function(n,t){return t.get(n)},x=function(n,t,e){return e||(n=y(n)),h(t,(function(t,e){Object.defineProperty(n,e,t)})),n},k=function(n,t){return g(n,t,w)},g=function(n,t,e){return e.set(n,t)},w=new WeakMap;var A=document,T=window,O=A.documentElement,S=function(n,t,e){var r,i=(r=n.childNodes,Array.from(r));return u(t)?i[t]||null:i},j=function(n,t){return void 0===t&&(t="e:"),P(n)?function(n,t,e){if(void 0===e&&(e=!0),!I(n,t))return null;var r=n.getAttribute(t);return e?p(r):r}(n,"id"):(o(rn[t])||(rn[t]=0),t+(e=Date.now()+(rn[t]+=1),r=16,u(e)?e.toString(r):""+e));var e,r},N=function(n,t){return t?n.closest(t)||null:n.parentNode||null},C=function(n){var t="form";return M(n,t)&&t===function(n){return(n&&n.nodeName||"").toLowerCase()||null}(n[t])?n[t]:N(n,t)},E=function(n){return n&&n.nodeType||null},L=function(n,t){var e=(n.value||"").replace(/\r?\n|\r/g,"\n");return""!==e?e:null},I=function(n,t){return n.hasAttribute(t)},P=function(n){return I(n,"id")},M=function(n,t){return t in n},q=function(n,t){return D(n,"aria-"+t)},D=function(n,t){return n.removeAttribute(t),n},H=function(n,t){return n.classList.remove(t),n},R=function(n,t){return n.style[s(t)]=null,n},U=function(n,t,e){return z(n,"aria-"+t,!0===e?"true":e)},z=function(n,t,e){return!0===e&&(e=t),n.setAttribute(t,l(e)),n},F=function(n,t){return h(t,(function(t,e){return"aria"===e&&a(t)?(function(n,t){h(t,(function(t,e){t||""===t||0===t?U(n,e,t):q(n,e)}))}(n,t),1):"class"===e?(Y(n,t),1):"data"===e&&a(t)?(B(n,t),1):"style"===e&&a(t)?(tn(n,t),1):void(t||""===t||0===t?z(n,e,t):D(n,e))})),n},J=function(n,t){return n.append(t),t},W=function(n,t){return n.classList.add(t),n},Y=function(n,e){return t(e)?(m(e,(function(t){return W(n,t)})),n):a(e)?(h(e,(function(t,e){return t?W(n,e):H(n,e)})),n):(n.className=e,n)},B=function(n,t){return h(t,(function(t,e){t||""===t||0===t?G(n,e,t):function(n,t){D(n,"data-"+t)}(n,e)})),n},G=function(n,e,r){return(t(r)||a(r))&&(r=JSON.stringify(r)),z(n,"data-"+e,!0===r?"true":r)},K=function(n,e,r,i){return n=f(n)?A.createElement(n,f(i)?{is:i}:i):n,t(e)&&d(e)?(!function(n){var t="innerHTML";M(n,t)&&(n[t]="")}(n),m(e,(function(n){return J(f(n)?Q(n):n)}))):a(e)&&(r=e,e=!1),f(e)&&V(n,e),a(r)?(F(n,r),n):n},Q=function(n){return f(n)&&(n=A.createTextNode(n)),n},V=function(n,t,e){if(void 0===e&&(e=!0),null===t)return n;var r="innerHTML";return M(n,r)&&(n[r]=e?t.trim():t),n},X=function(n,t,e){return void 0===e&&(e="e:"),z(n,"id",o(t)?t:j(n,e))},Z=function(n,t){return n.after(t),t},nn=function(n,t,e){return u(e)&&(e+="px"),n.style[s(t)]=l(e),n},tn=function(n,t){return h(t,(function(t,e){t||""===t||0===t?nn(n,e,t):R(n,e)})),n},en=function(n,t){return null===t?D(n,"value"):(n.value=l(t),n)},rn={},un=function(){return A.getSelection()},an=function(){return A.createRange()},on=function(n,t){return(t=t||un()).empty(),t},fn=function(n,t,e){var r=0,i=an();i.setStart(n,0),i.collapse(!0);for(var u,a,o,f=[n];!u&&(o=f.pop());)if(3===E(o)){var c=r+d(o);!a&&t[0]>=r&&t[0]<=c&&(i.setStart(o,t[0]-r),a=!0),a&&t[1]>=r&&t[1]<=c&&(u=!0,i.setEnd(o,t[1]-r)),r=c}else m(S(o,null),(function(n){return f.push(n)}));return ln(n,i,on(0,e))},cn=function(n,t,e){e=e||un(),on(0,e);var r=an();r.selectNodeContents(n),e=ln(n,r,e),1===t?e.collapseToEnd():-1===t&&e.collapseToStart()},ln=function(n,e,r){return r=r||un(),t(e)?fn(n,e,r):(r.addRange(e),r)};function sn(n){return Array.from(n)}var vn=T.clearTimeout,dn=T.setTimeout;var pn,mn,hn,yn,_n,bn,xn,kn,gn,wn=function(n,t,e){t.removeEventListener(n,e)},An=function(n){return n&&n.preventDefault()},Tn=function(n,t,e,r){void 0===r&&(r=!1),t.addEventListener(n,e,r)},On="down",Sn="blur",jn="focus",Nn="key"+On,Cn="mouse",En=Cn+On,Ln=Cn+"up",In="paste",Pn="touch",Mn=Pn+"end",$n=Pn+"start",qn="wheel",Dn="false",Hn="invalid",Rn="tabIndex",Un="true",zn="visibility",Fn=(pn=function(n,t){var e=n.max,r=n.min,i=n.value;if((i=+(null!=i?i:0)+t)>e||i<r)return Yn(),Bn(this);n.value=i,Bn(this)},bn=i(mn)&&mn>=0,xn=i(hn)&&hn>=0,[function(){var n=this,t=sn(arguments);bn||(mn=t.shift()),xn||(hn=t.shift());var e=function(){pn.apply(n,t),yn=dn(e,hn)};mn>0?_n=dn(e,mn):e()},function(){yn&&vn(yn),_n&&vn(_n)}]),Jn=function(t,e,r){if(e&&!Array.isArray(e)&&"number"==typeof e.length){var i=e.length;return n(e,r<i?r:i)}return t(e,r)}((function(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,i,u,a,o=[],f=!0,c=!1;try{if(u=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;f=!1}else for(;!(f=(r=u.call(e)).done)&&(o.push(r.value),o.length!==t);f=!0);}catch(n){c=!0,i=n}finally{try{if(!f&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}),Fn,2),Wn=Jn[0],Yn=Jn[1];function Bn(n){return n.focus(),n}function Gn(){var n=_(this),t=n.mask,e=n.state.error;u(e)&&e>0?function(n,t){var e,r=i(t)&&t>=0;return[function(){var i=this,u=sn(arguments);r||(t=u.shift()),e=dn((function(){return n.apply(i,u)}),t)},function(){e&&vn(e)}]}((function(){return q(t,Hn)}))(e):q(t,Hn)}function Kn(n){}function Qn(){cn($)}function Vn(n){var t,e=n.inputType,r=_(this),i=r._active,a=r.self,o=+(t=function(n,t){void 0===t&&(t=!0);var e="textContent";if(!M(n,e))return!1;var r=n[e];return""!==(r=t?r.trim():r)?r:null}(this));if(!i)return An(n);var f=r._mask,c=r.mask,l=r.max,s=r.min,v=r.step,d=f.hint;return"deleteContent"===e.slice(0,13)&&0===o?R(d,zn):"insertText"===e&&nn(d,zn,"hidden"),u(o)?0!==o%v?(r.fire("not.value",[t]),U(c,Hn,!0),An(n)):o>l?(r.fire("max.number",[o,l]),U(c,Hn,!0),An(n)):o<s?(r.fire("min.number",[o,s]),U(c,Hn,!0),An(n)):(q(c,Hn),r.fire("is.number",[o]),en(a,o+=""),void r.fire("change",[o])):(r.fire("not.number",[t]),U(c,Hn,!0),An(n))}function Xn(n){n.key;var t=_(this),e=t._mask;t.self,t.state,e.hint}function Zn(n){}function nt(n){An(n);var t=_(this);if(t._active){var e=t._mask,r=t.mask,i=t.state,u=e._step,a=u.down,o=u.up;i.n;var f=n.target,c=f,l=f;if(a!==c){for(;r!==c;)if(a===(c=N(c)))return;if(o!==l){for(;r!==l;)if(o===(l=N(l)))return;Bn(t)}}}}function tt(n){An(n);var t=this,e=_(t),r=e._active,i=e._fix;if(r){if(i)return Bn(e);e._mask,e.max;var u=e.min,a=e.step,o=e.value;if((o=+(null!=o?o:0)-a)<u)return e.value=u,Bn(t);e.value=o,Bn(t),qn!==n.type&&Wn.call(t,500,100,e,-a)}}function et(n){An(n);var t=this,e=_(t),r=e._active,i=e._fix;if(r){if(i)return Bn(e);e._mask;var u=e.max;e.min;var a=e.step,o=e.value;if((o=+(null!=o?o:0)+a)>u)return e.value=u,Bn(t);e.value=o,Bn(t),qn!==n.type&&Wn.call(t,500,100,e,a)}}function rt(){Yn()}function it(n){An(n);var t=_(this)._mask._step,e=t.down,r=t.up;n.deltaY<0?et.call(r,n):tt.call(e,n)}function ut(n,t){var e=this;return n?r(e,ut)?(k(n,function(n,t){return(t=t||n).fire=function(n,t,e){var r=this,i=r.hooks;return o(i[n])?(m(i[n],(function(n){n.apply(e||r,t)})),r):r},t.off=function(n,t){var e=this,r=e.hooks;if(!o(n))return r={},e;if(o(r[n]))if(o(t)){var i=d(r[n]);if(0===i)delete r[n];else for(var u=0;u<i;++u)if(t===r[n][u]){r[n].splice(u,1);break}}else delete r[n];return e},t.on=function(n,t){var e=this.hooks;return o(e[n])||(e[n]=[]),o(t)&&e[n].push(t),this},n.hooks={},n}(e,ut._)),e.attach(n,c({},ut.state,t||{}))):new ut(n,t):e}return ut.from=function(n,t){return new ut(n,t)},ut.of=_,ut.state={max:null,min:null,n:"number-picker",step:null,time:{error:1e3},with:[]},ut.version="1.0.0",x(ut,{name:{value:"NumberPicker"}},1),x(ut,{active:{get:function(){return this._active},set:function(n){return $}},fix:{get:function(){return this._fix},set:function(n){}},max:{get:function(){var n=this.state.max;return 1/0===(n=+n)||u(n)&&n>=0?n:1/0},set:function(n){return this.state.max=u(n=+n)&&n>=0?n:1/0,this}},min:{get:function(){var n=this.state.min;return-1/0===(n=+n)||u(n)&&n>=0?n:-1/0},set:function(n){return this.state.min=u(n=+n)&&n>=0?n:-1/0,this}},step:{get:function(){var n=this.state.step;return u(n=+n)&&n>0?n:1},set:function(n){return this.state.step=u(n=+n)&&n>0?n:1,this}},value:{get:function(){var n=L(this.self);return""!==n?n:null},set:function(n){var t=this;if(!t._active)return t;n=+n;var e=t._mask,r=t.mask,i=t.max,a=t.min,o=t.self,f=e.hint,c=e.input;return!u(n)||n<a||n>i?(U(r,Hn,!0),t):(""!=(n+="")?nn(f,zn,"hidden"):R(f,zn),function(n,t,e){if(void 0===e&&(e=!0),null===t)return n;var r="textContent";M(n,r)&&(n[r]=e?t.trim():t)}(c,n),en(o,n),t.fire("change",[n]))}},vital:{get:function(){return this._vital},set:function(n){}}}),ut._=(gn={attach:function(n,r){var i,u,c,l=this;n=n||l.self,r=r||l.state,l._value=null,l.self=n,l.state=r;var s=r,v=s.max,d=s.min,p=s.n,h=s.step,y=n.disabled,_=function(n){return n.readOnly}(n),b=function(n){return n.required}(n),x=n.id,g=n.max,w=n.min,A=n.name,T=n.placeholder||w,S=n.step,N=L(n);l._active=!y&&!_,l._fix=_,l._vital=b;var E=K("span",{class:p+"__step-down",tabindex:-1}),I=K("span",{aria:{hidden:Un},class:p+"__step"}),P=K("span",{class:p+"__step-up",tabindex:-1});C(n);var M=K("div",{aria:{disabled:!!y&&Un,readonly:!!_&&Un,required:!!b&&Un,valuemax:9999,valuemin:0,valuenow:0},class:p,role:"spinbutton"});l.mask=M;var $=K("div",{class:p+"__flex",role:"group"}),q=K("span",{class:p+"__text"}),D=K("span",{aria:{disabled:!!y&&Un,multiline:Dn,placeholder:T||"0",readonly:!!_&&Un,required:!!b&&Un},autocapitalize:"off",contenteditable:!y&&!_&&"",role:"textbox",spellcheck:Dn,tabindex:!!_&&0}),H=K("span",T||"0",{aria:{hidden:Un}});J(M,$),J($,q),J($,I),J(I,P),J(I,E),Tn(Sn,D,Gn),Tn("cut",D,Kn),Tn(jn,D,Qn),Tn("input",D,Vn),Tn(Nn,D,Xn),Tn(En,E,tt),Tn(En,P,et),Tn(In,D,Zn),Tn($n,E,tt),Tn($n,P,et),Tn(qn,M,it),J(q,D),J(q,H),k(E,l),k(P,l),k(D,l),W(n,p+"__self"),Z(n,M),J(M,n),Tn(En,M,nt),Tn(Ln,O,rt),Tn(Mn,O,rt),Tn($n,M,nt),n[Rn]=-1,k(M,l),l._mask={_step:{down:E,self:I,up:P},flex:$,hint:H,input:D,of:n,self:M,step:I},l.max=v=null!=(i=null!=g?g:v)?i:1/0,l.min=d=null!=(u=null!=w?w:d)?u:-1/0,l.step=h=null!=(c=null!=S?S:h)?c:1;var R=l._active;return l._active=!0,l._active=R,U(M,"labelledby",j(X(q))),U(n,"hidden",!0),X(M),X($),X(n),X(E),X(I),X(P),X(D),X(H),x&&G(M,"id",x),A&&G(M,"name",A),N&&(l.value=N),o(r)&&t(r.with)&&m(r.with,(function(t,i){f(t)&&(t=OptionPicker[t]),e(t)?t.call(l,n,r):a(t)&&e(t.attach)&&t.attach.call(l,n,r)})),l},blur:function(){},detach:function(){var n,r=this,i=r._mask,u=r.mask,o=r.self,c=r.state,l=i.input;return i.value,C(o),r._active=!1,r._value=null,wn(Sn,l,Gn),wn(jn,l,Qn),wn("cut",l,Kn),wn(Nn,l,Xn),wn(In,l,Zn),wn(En,u,nt),wn(Ln,O,rt),wn(Mn,O,rt),wn($n,u,nt),wn(qn,u,it),t(c.with)&&m(c.with,(function(n,t){f(n)&&(n=OptionPicker[n]),a(n)&&e(n.detach)&&n.detach.call(r,o,c)})),o[Rn]=null,q(o,"hidden"),H(o,c.n+"__self"),Z(u,o),N(n=u),n.remove(),r._mask={of:o},r.mask=null,r},focus:function(n){var t=this._mask.input;return Bn(t),cn(t,n),this},reset:function(n,t){}},kn=y(kn=ut),h(gn,(function(n,t){kn[t]=n})),kn),ut}));